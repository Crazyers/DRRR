<div class="msg-container" [ngClass]="{history: message.isChatHistory}">
  <div *ngIf="message.timestamp"
       class="time">
    <P *ngIf="isToday">{{ message.timestamp | date: 'HH:mm:ss'}}</P>
    <P *ngIf="!isToday">{{ message.timestamp | date: 'yyyy/MM/dd HH:mm:ss'}}</P>
  </div>
  <div *ngIf="!message.isSystemMessage" [style.text-align]="position">
    <div [ngClass]="['pull-' + position]">
      <img alt="image" class="img-circle" src="/api/resources/avatars/thumbnails/{{message.userId}}">
    </div>
    <p *ngIf="message.incoming" class="author-name">{{ message.username }}</p>
    <div *ngIf="!message.isPicture" class="bubble" [ngClass]="[position]">
      <div class="bubble-content">
        <pre>{{ message.data }}</pre>
      </div>
    </div>
    <div *ngIf="message.isPicture" class="picture">
      <img src="data:image/jpeg;base64,{{ message.data }}">
    </div>
  </div>
  <div *ngIf="message.isSystemMessage"
       class="system-message">
    <pre>{{ message.data }}</pre>
  </div>
</div>
