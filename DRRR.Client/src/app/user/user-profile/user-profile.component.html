<form [formGroup]="profileForm"
      class="form-user">
  <h2>账号设置</h2>
  <div class="well">
    <div class="avatar">
      <img src="/api/resources/avatars/{{payload.uid}}"
           class="img-circle circle-border" alt="profile"
           (click)="changeAvatar()">
      <a>更换头像</a>
    </div>
    <div>
      <h3>{{payload.unique_name}}</h3>
      <small>
        注册时间：{{registrationTime}}
      </small>
    </div>
  </div>
  <div class="form-group"
       [ngClass]="{ 'has-error': formErrorMessages['username'] }">
    <input type="text"
           class="form-control"
           placeholder="请输入原密码"
           maxlength="10"
           autocomplete="off">
    <span class="help-block">{{ formErrorMessages['password'] }}</span>
  </div>
  <div class="form-group"
       [ngClass]="{ 'has-error': formErrorMessages['password'] }">
    <input type="password"
           class="form-control"
           placeholder="请输入新密码"
           maxlength="128"
           autocomplete="off">
    <span class="help-block">{{ formErrorMessages['newPassword'] || "不少于6位" }}</span>
  </div>
  <div class="form-group"
       [ngClass]="{ 'has-error': formErrorMessages['confirmNewPassword'] }">
    <input type="password"
           class="form-control"
           placeholder="请确认新密码"
           maxlength="128"
           autocomplete="off">
    <span *ngIf="formErrorMessages['confirmPassword']" class="help-block">
{{ formErrorMessages['confirmPassword'] }}
</span>
  </div>
  <input type="button"
         class="btn btn-lg btn-primary btn-block"
         value="重置密码"
         (click)="register(profileForm.value)">
</form>
